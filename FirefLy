import tkinter as tk
import random
import time
from math import sin, cos, pi
from tkinter import messagebox

class HappyLittleMaGUI:
    def __init__(self, root):
        self.root = root
        self.root.title("å°éº»ä¸“å±å¿«ä¹åŠ©æ‰‹")
        self.root.geometry("1000x700")
        self.root.configure(bg="#fff0f5")  # æ·¡ç²‰è‰²èƒŒæ™¯
        
        # é¢œè‰²æ–¹æ¡ˆ
        self.colors = {
            'bg': "#fff0f5",
            'primary': "#ff6b9d",
            'secondary': "#5d9b9b",
            'accent': "#ffb347",
            'text': "#5a4fcf",
            'highlight': "#ffcc00"
        }
        
        # å¿«ä¹æ¶ˆæ¯åº“
        self.happy_messages = [
            "å°éº»è¦å¤©å¤©å¼€å¿ƒå“¦ï¼ ğŸ’–",
            "ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡ï¼ âœ¨",
            "ä½ æ˜¯æœ€æ£’çš„ï¼ ğŸŒŸ",
            "ä¿æŒå¾®ç¬‘ï¼Œä¸–ç•Œä¼šæ›´ç¾å¥½ï¼ ğŸ˜Š",
            "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼ ğŸŒˆ",
            "ä½ çš„ç¬‘å®¹æ˜¯ä¸–ç•Œä¸Šæœ€ç¾çš„é£æ™¯ï¼ ğŸŒ¸",
            "åŠ æ²¹ï¼Œå°éº»ï¼ä½ å¯ä»¥çš„ï¼ ğŸ’ª",
            "ç”Ÿæ´»ä¸­çš„å°ç¡®å¹¸éƒ½åœ¨ä½ èº«è¾¹ï¼ ğŸ€",
            "æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ï¼ ğŸ•Šï¸",
            "ä»Šå¤©ä¹Ÿè¦å¥½å¥½çˆ±è‡ªå·±ï¼ ğŸ’•"
        ]
        
        # è£…é¥°å…ƒç´ 
        self.decorations = []
        
        # åˆ›å»ºç•Œé¢
        self.create_widgets()
        
        # å¯åŠ¨åŠ¨ç”»
        self.start_animations()
        
        # å®šæœŸæ›´æ–°ç¥ç¦è¯­
        self.update_message()
        
    def create_widgets(self):
        """åˆ›å»ºç•Œé¢ç»„ä»¶"""
        
        # ä¸»ç”»å¸ƒ - ç”¨äºç»˜åˆ¶è£…é¥°
        self.canvas = tk.Canvas(
            self.root,
            bg=self.colors['bg'],
            highlightthickness=0
        )
        self.canvas.pack(fill="both", expand=True)
        
        # ç»˜åˆ¶èƒŒæ™¯è£…é¥°
        self.draw_background_decorations()
        
        # åˆ›å»ºæ ‡é¢˜æ¡†æ¶
        title_frame = tk.Frame(self.canvas, bg=self.colors['bg'])
        self.canvas.create_window(500, 80, window=title_frame, width=800, height=120)
        
        # ä¸»æ ‡é¢˜
        self.title_label = tk.Label(
            title_frame,
            text="å°éº»ä¸“å±å¿«ä¹åŠ©æ‰‹",
            font=("Microsoft YaHei", 32, "bold"),
            fg=self.colors['primary'],
            bg=self.colors['bg']
        )
        self.title_label.pack(pady=(10, 0))
        
        # å‰¯æ ‡é¢˜
        self.subtitle_label = tk.Label(
            title_frame,
            text="â¤ï¸ æ„¿ä½ æ¯å¤©éƒ½å……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ â¤ï¸",
            font=("Microsoft YaHei", 14),
            fg=self.colors['secondary'],
            bg=self.colors['bg']
        )
        self.subtitle_label.pack(pady=(5, 10))
        
        # ä¸­å¿ƒæ¶ˆæ¯æ¡†
        message_frame = tk.Frame(self.canvas, bg=self.colors['bg'])
        self.canvas.create_window(500, 300, window=message_frame, width=900, height=180)
        
        # åŠ¨æ€æ¶ˆæ¯æ ‡ç­¾
        self.message_label = tk.Label(
            message_frame,
            text=self.happy_messages[0],
            font=("Microsoft YaHei", 28, "bold"),
            fg=self.colors['text'],
            bg=self.colors['bg'],
            wraplength=800,
            justify="center"
        )
        self.message_label.pack(expand=True, fill="both", padx=20, pady=20)
        
        # åŠŸèƒ½æŒ‰é’®æ¡†æ¶
        button_frame = tk.Frame(self.canvas, bg=self.colors['bg'])
        self.canvas.create_window(500, 500, window=button_frame, width=800, height=150)
        
        # åˆ›å»ºåŠŸèƒ½æŒ‰é’®
        self.create_buttons(button_frame)
        
        # åº•éƒ¨çŠ¶æ€æ 
        status_frame = tk.Frame(self.canvas, bg="#ffe6f2")
        self.canvas.create_window(500, 650, window=status_frame, width=1000, height=60)
        
        # çŠ¶æ€æ ‡ç­¾
        self.status_label = tk.Label(
            status_frame,
            text="ğŸŒ¸ å°éº»çš„å¿«ä¹æŒ‡æ•°ï¼š100% ğŸŒ¸",
            font=("Microsoft YaHei", 12),
            fg=self.colors['primary'],
            bg="#ffe6f2"
        )
        self.status_label.pack(expand=True)
        
        # ç»˜åˆ¶å¿ƒå½¢è£…é¥°
        self.draw_heart_decorations()
        
    def draw_background_decorations(self):
        """ç»˜åˆ¶èƒŒæ™¯è£…é¥°"""
        # ç»˜åˆ¶æ³¡æ³¡
        for _ in range(30):
            x = random.randint(50, 950)
            y = random.randint(50, 650)
            size = random.randint(20, 60)
            color = random.choice(["#ffccd5", "#ffb3c1", "#ff8fa3", "#ff758f"])
            bubble = self.canvas.create_oval(
                x, y, x+size, y+size,
                fill=color,
                outline="",
                width=0
            )
            self.decorations.append(bubble)
            
        # ç»˜åˆ¶å°æ˜Ÿæ˜Ÿ
        for _ in range(20):
            x = random.randint(50, 950)
            y = random.randint(50, 650)
            self.draw_star(x, y)
            
    def draw_star(self, x, y, size=15, color="#ffcc00"):
        """ç»˜åˆ¶æ˜Ÿæ˜Ÿ"""
        points = []
        for i in range(5):
            angle = pi/2 + i * 2*pi/5
            px = x + size * cos(angle)
            py = y - size * sin(angle)
            points.extend([px, py])
            
            angle += pi/5
            px = x + size/2 * cos(angle)
            py = y - size/2 * sin(angle)
            points.extend([px, py])
            
        star = self.canvas.create_polygon(points, fill=color, outline="", width=0)
        self.decorations.append(star)
        
    def draw_heart_decorations(self):
        """ç»˜åˆ¶å¿ƒå½¢è£…é¥°"""
        heart_positions = [
            (100, 150), (900, 150), (200, 550), (800, 550),
            (150, 250), (850, 250), (250, 450), (750, 450)
        ]
        
        for x, y in heart_positions:
            self.draw_heart(x, y)
            
    def draw_heart(self, x, y, size=25, color="#ff6b9d"):
        """ç»˜åˆ¶å¿ƒå½¢"""
        # å¿ƒå½¢æ›²çº¿å‚æ•°æ–¹ç¨‹ç®€åŒ–ç‰ˆ
        points = []
        for t in range(0, 628, 10):  # 0 åˆ° 2Ï€
            t = t / 100
            # å¿ƒå½¢å‚æ•°æ–¹ç¨‹
            px = 16 * sin(t)**3
            py = 13 * cos(t) - 5 * cos(2*t) - 2 * cos(3*t) - cos(4*t)
            
            # ç¼©æ”¾å’Œå®šä½
            px = x + px * size/16
            py = y - py * size/16
            
            points.append(px)
            points.append(py)
            
        heart = self.canvas.create_polygon(points, fill=color, outline="", width=0)
        self.decorations.append(heart)
        
    def create_buttons(self, parent):
        """åˆ›å»ºåŠŸèƒ½æŒ‰é’®"""
        button_style = {
            'font': ("Microsoft YaHei", 12, "bold"),
            'bg': self.colors['primary'],
            'fg': "white",
            'activebackground': self.colors['accent'],
            'relief': tk.RAISED,
            'borderwidth': 3,
            'padx': 20,
            'pady': 10,
            'cursor': "hand2"
        }
        
        # ç¬¬ä¸€è¡ŒæŒ‰é’®
        row1_frame = tk.Frame(parent, bg=self.colors['bg'])
        row1_frame.pack(pady=(0, 10))
        
        buttons1 = [
            ("âœ¨ æ–°çš„ç¥ç¦", self.new_blessing),
            ("ğŸ æ¯æ—¥æƒŠå–œ", self.daily_surprise),
            ("ğŸ’– å‘é€çˆ±å¿ƒ", self.send_love),
            ("ğŸ˜Š å¼€å¿ƒä¸€åˆ»", self.happy_moment)
        ]
        
        for text, command in buttons1:
            btn = tk.Button(row1_frame, text=text, command=command, **button_style)
            btn.pack(side="left", padx=10)
            
        # ç¬¬äºŒè¡ŒæŒ‰é’®
        row2_frame = tk.Frame(parent, bg=self.colors['bg'])
        row2_frame.pack()
        
        buttons2 = [
            ("ğŸŒˆ å½©è™¹ç‰¹æ•ˆ", self.rainbow_effect),
            ("ğŸµ å¿«ä¹éŸ³ä¹", self.play_music),
            ("ğŸ“¸ å¿«ä¹è‡ªæ‹", self.take_selfie),
            ("ğŸˆ æ”¾é£æ°”çƒ", self.release_balloons)
        ]
        
        for text, command in buttons2:
            btn = tk.Button(row2_frame, text=text, command=command, **button_style)
            btn.pack(side="left", padx=10)
            
    def start_animations(self):
        """å¯åŠ¨åŠ¨ç”»æ•ˆæœ"""
        self.animate_bubbles()
        self.animate_title()
        
    def animate_bubbles(self):
        """æ°”æ³¡åŠ¨ç”»"""
        for item in self.decorations[:30]:  # åªå¯¹æ°”æ³¡è¿›è¡ŒåŠ¨ç”»
            if self.canvas.type(item) == "oval":
                # éšæœºç§»åŠ¨
                dx = random.uniform(-1, 1)
                dy = random.uniform(-1, 1)
                self.canvas.move(item, dx, dy)
                
                # è¾¹ç•Œæ£€æŸ¥
                coords = self.canvas.coords(item)
                if coords[0] < 0 or coords[2] > 1000 or coords[1] < 0 or coords[3] > 700:
                    # é‡ç½®ä½ç½®
                    x = random.randint(50, 950)
                    y = random.randint(50, 650)
                    self.canvas.coords(item, x, y, x+coords[2]-coords[0], y+coords[3]-coords[1])
                    
        # ç»§ç»­åŠ¨ç”»
        self.root.after(50, self.animate_bubbles)
        
    def animate_title(self):
        """æ ‡é¢˜é¢œè‰²åŠ¨ç”»"""
        # ç”Ÿæˆå½©è™¹è‰²
        colors = ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#4b0082', '#9400d3']
        current_color = self.title_label.cget("fg")
        next_index = (colors.index(current_color) + 1) % len(colors) if current_color in colors else 0
        
        self.title_label.config(fg=colors[next_index])
        self.root.after(300, self.animate_title)
        
    def update_message(self):
        """æ›´æ–°ç¥ç¦æ¶ˆæ¯"""
        new_message = random.choice(self.happy_messages)
        self.message_label.config(text=new_message)
        
        # æ›´æ–°çŠ¶æ€
        happy_level = random.randint(85, 100)
        self.status_label.config(text=f"ğŸŒ¸ å°éº»çš„å¿«ä¹æŒ‡æ•°ï¼š{happy_level}% ğŸŒ¸")
        
        # éšæœºæ—¶é—´åå†æ¬¡æ›´æ–°
        delay = random.randint(5000, 15000)  # 5-15ç§’
        self.root.after(delay, self.update_message)
        
    def new_blessing(self):
        """æ–°çš„ç¥ç¦æŒ‰é’®åŠŸèƒ½"""
        messages = [
            "å°éº»ï¼Œä»Šå¤©ä¹Ÿè¦é—ªé—ªå‘å…‰ï¼ âœ¨",
            "æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’ŒèŠ±é¦™ï¼ ğŸŒ¸",
            "ä½ æ˜¯å®‡å®™ä¸­æœ€ç‰¹åˆ«çš„å­˜åœ¨ï¼ ğŸŒŒ",
            "ä¿æŒå¯çˆ±ï¼Œä¿æŒå¿«ä¹ï¼ ğŸ¥°",
            "ç¾å¥½çš„äº‹æƒ…æ­£åœ¨å‘ä½ èµ°æ¥ï¼ ğŸŒˆ",
            "ä»Šå¤©ä¹Ÿè¦ç»™è‡ªå·±ä¸€ä¸ªå¤§å¤§çš„å¾®ç¬‘ï¼ ğŸ˜„",
            "ä½ æ˜¯å€¼å¾—æ‰€æœ‰ç¾å¥½çš„ï¼ ğŸ’«",
            "æ„¿å¿«ä¹æ°¸è¿œé™ªä¼´ç€ä½ ï¼ ğŸ‰",
            "æ¯ä¸€å¤©éƒ½å€¼å¾—åº†ç¥ï¼ ğŸŠ",
            "å°éº»ï¼Œä½ è®©ä¸–ç•Œå˜å¾—æ›´ç¾å¥½ï¼ ğŸŒ"
        ]
        
        new_message = random.choice(messages)
        self.message_label.config(text=new_message)
        
        # æ·»åŠ ç‰¹æ•ˆ
        self.show_sparkles()
        
    def daily_surprise(self):
        """æ¯æ—¥æƒŠå–œæŒ‰é’®åŠŸèƒ½"""
        surprises = [
            "ğŸ‰ æ­å–œï¼è·å¾—ä¸€æ—¥å¥½å¿ƒæƒ…ï¼",
            "ğŸ å°éº»ä¸“å±ç¤¼åŒ…ï¼šå¿«ä¹+100ï¼",
            "ğŸŒŸ å‘ç°éšè—çš„æ˜Ÿæ˜Ÿï¼Œè®¸ä¸ªæ„¿å§ï¼",
            "ğŸ€ å¹¸è¿å››å¶è‰å·²é€è¾¾ï¼",
            "ğŸ’ ç‰¹åˆ«çš„çˆ±ç»™ç‰¹åˆ«çš„ä½ ï¼",
            "ğŸˆ å¿«ä¹æ°”çƒå·²å‡ç©ºï¼",
            "ğŸ¦„ é‡è§ç¥å¥‡ç‹¬è§’å…½ï¼Œå¥½è¿è¿è¿ï¼",
            "ğŸŒº ä¸€æŸé²œèŠ±ï¼Œä¸€ä»½å¥½å¿ƒæƒ…ï¼",
            "ğŸ­ ç”œèœœç³–æœï¼Œå¿«ä¹åŠ å€ï¼",
            "ğŸ•Šï¸ å’Œå¹³é¸½å¸¦æ¥ç¾å¥½ç¥ç¦ï¼"
        ]
        
        surprise = random.choice(surprises)
        messagebox.showinfo("æ¯æ—¥æƒŠå–œ", surprise)
        
    def send_love(self):
        """å‘é€çˆ±å¿ƒæŒ‰é’®åŠŸèƒ½"""
        # åœ¨å±å¹•ä¸Šåˆ›å»ºå¤šä¸ªçˆ±å¿ƒ
        for _ in range(10):
            x = random.randint(100, 900)
            y = 700  # ä»åº•éƒ¨å¼€å§‹
            size = random.randint(20, 40)
            color = random.choice(["#ff6b9d", "#ff8fa3", "#ffb3c1", "#ffccd5"])
            
            heart = self.draw_heart(x, y, size, color)
            
            # çˆ±å¿ƒä¸Šå‡åŠ¨ç”»
            self.animate_heart_up(heart, y)
            
    def animate_heart_up(self, heart, start_y):
        """çˆ±å¿ƒä¸Šå‡åŠ¨ç”»"""
        current_y = start_y
        def move_up():
            nonlocal current_y
            if current_y > -100:  # ç›´åˆ°ç§»å‡ºå±å¹•
                self.canvas.move(heart, 0, -5)
                current_y -= 5
                self.root.after(30, move_up)
            else:
                self.canvas.delete(heart)
                
        move_up()
        
    def happy_moment(self):
        """å¼€å¿ƒä¸€åˆ»æŒ‰é’®åŠŸèƒ½"""
        jokes = [
            "ä¸ºä»€ä¹ˆä¼é¹…çš„è‚šå­æ˜¯ç™½è‰²çš„ï¼Ÿ\nå› ä¸ºå¦‚æœå®ƒæ˜¯é»‘è‰²çš„ï¼Œå°±ä¼šè¢«è®¤ä¸ºæ˜¯ä¹Œé¸¦ï¼ ğŸ§",
            "ä¸ºä»€ä¹ˆæ•°å­¦ä¹¦å¾ˆæ‚²ä¼¤ï¼Ÿ\nå› ä¸ºå®ƒæœ‰å¤ªå¤šé—®é¢˜ï¼ ğŸ“š",
            "ä»€ä¹ˆæ°´æœæœ€å†·ï¼Ÿ\næ¢¨ï¼ˆç¦»ï¼‰å­ï¼Œå› ä¸ºå®ƒæ€»æ˜¯è¯´ï¼šç¦»æˆ‘è¿œç‚¹ï¼Œæˆ‘å†·ï¼ ğŸ",
            "ä¸ºä»€ä¹ˆç”µè„‘æ°¸è¿œä¸ä¼šæ„Ÿå†’ï¼Ÿ\nå› ä¸ºå®ƒæœ‰Windowsï¼ˆçª—æˆ·ï¼‰ï¼Œä½†æ€»æ˜¯å…³ç€ï¼ ğŸ’»",
            "ä»€ä¹ˆåŠ¨ç‰©æœ€å–œæ¬¢é—®ä¸ºä»€ä¹ˆï¼Ÿ\nçŒªï¼Œå› ä¸ºäººä»¬æ€»è¯´ï¼šä¸ºä»€ä¹ˆä½ æ˜¯çŒªï¼Ÿ ğŸ·"
        ]
        
        joke = random.choice(jokes)
        messagebox.showinfo("å¼€å¿ƒä¸€åˆ»", joke)
        
    def rainbow_effect(self):
        """å½©è™¹ç‰¹æ•ˆæŒ‰é’®åŠŸèƒ½"""
        # åœ¨æ¶ˆæ¯å‘¨å›´åˆ›å»ºå½©è™¹å…‰ç¯
        x, y = 500, 300
        
        for i in range(7):
            radius = 120 + i * 10
            color = ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', 
                    '#0000ff', '#4b0082', '#9400d3'][i]
            
            circle = self.canvas.create_oval(
                x-radius, y-radius, x+radius, y+radius,
                outline=color,
                width=3,
                dash=(5, 3)
            )
            
            # é€æ¸æ¶ˆå¤±
            self.root.after(i * 100, lambda c=circle: self.fade_out(c))
            
    def fade_out(self, item):
        """æ·¡å‡ºæ•ˆæœ"""
        for opacity in range(10, 0, -1):
            self.root.after((10-opacity)*50, 
                           lambda o=opacity, i=item: self.canvas.itemconfig(i, stipple="gray50", 
                                                                           fill="", outline=""))
        self.root.after(600, lambda: self.canvas.delete(item))
        
    def play_music(self):
        """æ’­æ”¾éŸ³ä¹æŒ‰é’®åŠŸèƒ½"""
        # æ¨¡æ‹Ÿæ’­æ”¾éŸ³ä¹
        music_titles = [
            "ã€Šå¿«ä¹é¢‚ã€‹",
            "ã€Šå°éº»ä¸“å±å¼€å¿ƒæ›²ã€‹",
            "ã€Šé˜³å…‰å½©è™¹å°ç™½é©¬ã€‹",
            "ã€Šå¥½å¿ƒæƒ…ã€‹",
            "ã€Šç”œç”œçš„ã€‹"
        ]
        
        music = random.choice(music_titles)
        messagebox.showinfo("å¿«ä¹éŸ³ä¹", f"æ­£åœ¨æ’­æ”¾ï¼š{music}\nğŸµ å•¦å•¦å•¦ï½ å¿«ä¹éŸ³ä¹é™ªä¼´ä½  ğŸµ")
        
    def take_selfie(self):
        """å¿«ä¹è‡ªæ‹æŒ‰é’®åŠŸèƒ½"""
        # æ¨¡æ‹Ÿæ‹ç…§æ•ˆæœ
        self.canvas.create_rectangle(0, 0, 1000, 700, fill="white", stipple="gray50")
        self.root.after(100, lambda: self.canvas.delete("all"))
        
        # é‡æ–°ç»˜åˆ¶ç•Œé¢
        self.root.after(150, self.redraw_interface)
        
        # æ˜¾ç¤ºæ‹ç…§æ•ˆæœ
        self.root.after(200, lambda: messagebox.showinfo("å¿«ä¹è‡ªæ‹", "ğŸ“¸ å’”åš“ï¼æ•æ‰åˆ°å°éº»æœ€ç¾çš„ç¬‘å®¹ï¼"))
        
    def redraw_interface(self):
        """é‡æ–°ç»˜åˆ¶ç•Œé¢"""
        self.canvas.configure(bg=self.colors['bg'])
        self.draw_background_decorations()
        self.draw_heart_decorations()
        
        # é‡æ–°æ·»åŠ çª—å£éƒ¨ä»¶
        self.create_widgets()
        
    def release_balloons(self):
        """æ”¾é£æ°”çƒæŒ‰é’®åŠŸèƒ½"""
        # åˆ›å»ºå¤šä¸ªå½©è‰²æ°”çƒ
        balloon_colors = ["#ff6b9d", "#ffb347", "#5d9b9b", "#5a4fcf", "#ffcc00"]
        
        for _ in range(15):
            x = random.randint(100, 900)
            y = 700
            size = random.randint(30, 60)
            color = random.choice(balloon_colors)
            
            # ç»˜åˆ¶æ°”çƒï¼ˆæ¤­åœ†åŠ ä¸Šçº¿ï¼‰
            balloon = self.canvas.create_oval(
                x, y, x+size, y+size*1.3,
                fill=color,
                outline="black",
                width=1
            )
            
            # æ°”çƒçº¿
            line = self.canvas.create_line(
                x+size/2, y+size*1.3,
                x+size/2, y+size*1.3+50,
                fill="black",
                width=1
            )
            
            # æ°”çƒä¸Šå‡åŠ¨ç”»
            self.animate_balloon_up(balloon, line, y)
            
    def animate_balloon_up(self, balloon, line, start_y):
        """æ°”çƒä¸Šå‡åŠ¨ç”»"""
        current_y = start_y
        def move_up():
            nonlocal current_y
            if current_y > -200:  # ç›´åˆ°ç§»å‡ºå±å¹•
                self.canvas.move(balloon, 0, -4)
                self.canvas.move(line, 0, -4)
                current_y -= 4
                self.root.after(30, move_up)
            else:
                self.canvas.delete(balloon)
                self.canvas.delete(line)
                
        move_up()
        
    def show_sparkles(self):
        """æ˜¾ç¤ºé—ªçƒæ•ˆæœ"""
        for _ in range(20):
            x = random.randint(200, 800)
            y = random.randint(200, 400)
            size = random.randint(5, 15)
            
            sparkle = self.canvas.create_oval(
                x, y, x+size, y+size,
                fill=self.colors['highlight'],
                outline=""
            )
            
            # é—ªçƒåæ¶ˆå¤±
            self.root.after(random.randint(300, 800), 
                           lambda s=sparkle: self.canvas.delete(s))

def main():
    root = tk.Tk()
    app = HappyLittleMaGUI(root)
    
    # æ·»åŠ çª—å£å…³é—­ç¡®è®¤
    def on_closing():
        if messagebox.askokcancel("é€€å‡º", "ç¡®å®šè¦ç¦»å¼€å°éº»çš„å¿«ä¹ä¸–ç•Œå—ï¼Ÿ"):
            root.destroy()
    
    root.protocol("WM_DELETE_WINDOW", on_closing)
    
    # å¯åŠ¨ä¸»å¾ªç¯
    root.mainloop()

if __name__ == "__main__":
    main()
